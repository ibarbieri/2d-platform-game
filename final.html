<!DOCTYPE html>
<!--[if lt IE 7]><html lang="en" class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7 ie6"></html><script type="text/javascript" src="https://a248.e.akamai.net/secure.mlstatic.com/org-img/ch/tools/html5shiv/html5shiv.js"></script>
<![endif]--><!--[if IE 7]><html lang="en" class="no-js lt-ie10 lt-ie9 lt-ie8 ie7"></html><script type="text/javascript" src="https://a248.e.akamai.net/secure.mlstatic.com/org-img/ch/tools/html5shiv/html5shiv.js"></script>
<![endif]--><!--[if IE 8]><html lang="en" class="no-js lt-ie10 lt-ie9 ie8"></html><script type="text/javascript" src="https://a248.e.akamai.net/secure.mlstatic.com/org-img/ch/tools/html5shiv/html5shiv.js"></script>
<![endif]--><!--[if IE 9]><html lang="en" class="no-js lt-ie10 ie9"></html><script type="text/javascript" src="https://a248.e.akamai.net/secure.mlstatic.com/org-img/ch/tools/html5shiv/html5shiv.js"></script>
<![endif]--><!--[if gt IE 9] <!-->
<head>
	<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1"/>

	<meta name="apple-mobile-web-app-capable" content="yes" />

	<meta charset="utf-8"/>
	<title>Game</title>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
</head>

<body>
	<section id="panelStarGrame">
		<div class="content">
			<a href="#" id="buttonLoginFacebook">
				<img src="img/login-with-facebook.png">
			</a>

			<form action="" method="POST">
				<label>E-mail</label>
				<input type="email" value="" id="emailLogin" name="emailLogin">

				<a href="#" id="buttonStartGame">
					<img src="img/button-play.png">
				</a>
			</form>
		</div>
	</section>


	<section id="panelChoosePlayer" class="display-none">
		<div class="content">
			<a href="#" id="adhara"><img src="img/choose-adhara.png"></a>
			<a href="#" id="aidem"><img src="img/choose-aidem.png"></a>
		</div>
	</section>

	<section id="panelReadInstructions" class="display-none">
		<div class="content">
			<a href="#" id="buttonPlayGame"><img src="img/button-play.png"></a>
		</div>
	</section>

	<section id="panelReadInstructionsPause" class="display-none">
		<div class="content">
			<a href="#" id="buttonBack"><img src="img/btn-back.png"></a>
		</div>
	</section>

	<section id="panelPause" class="display-none">
		<div class="content">
			<a href="#" id="buttonInstructions"><img src="img/btn-read-instructions.png"></a>
			<a href="#" id="buttonReanudar"><img src="img/btn-continue.png"></a>
			<a href="#" id="buttonResumen"><img src="img/btn-resumen.png"></a>
		</div>
	</section>

<!-- 	<section id="panelStartMobile" class="display-none">
		<a href="#" id="starGameMobile">Start</a>
	</section> -->

	<section id="panelWin" class="display-none">
		<div class="content">
			<h2>Completaste el juego</h2>
			<p class="score">Puntaje <span id="getScore">11231</span></p>

			<a href="#" id="buttonLoginFacebook">
				<img src="img/button-shared-facebook.png">
			</a>
			<p>Superá tu puntaje y aparecé en el ranking de los mejores jugadores </p>
			<a href="#" id="playAgainWin"><img src="img/btn-play-again.png"></a>
		</div>
	</section>


	<section id="panelGameOver" class="display-none">
		<div class="content">
			<p class="score">Puntaje <span id="getScore">11231</span></p>

			<a href="#" id="buttonLoginFacebook">
				<img src="img/button-shared-facebook.png">
			</a>

			<p>¡Lo sentimos!<br>
				Vuelve a intentarlo y supera tu marca
			</p>
			<a href="#" id="playAgainLoose"><img src="img/btn-play-again.png"></a>

		</div>
	</section>

	<section id="playerOptions" class="display-none">
		<div id="adarhaLife"></div>
		<div id="adarhaPotion"></div>
		<div id="adarhaHeartsDragon"> 0 </div>
		<div id="adarhaScore" style="display:none"></div>
	</section>

	<div id="controls">
		<div class="walk-controls">
			<input type="button" value="" class="left-arrow">
			<input type="button" value="" class="down-arrow">
			<input type="button" value="" class="right-arrow">
		</div>
		<div class="jump-attack-controls">
			<input type="button" value="" class="top-arrow">
			<input type="button" value="" class="attack-key">
		</div>
	</div>

	<section id="panelGame">
		<div class="left-actions">
			<a href="www.lesath.com.ar">Creditos</a> |
			<a href="www.lesath.com.ar">Compartir</a>
		</div>

		<div class="brand-lesath">
			<img src="img/brand-lesath.png">
		</div>

		<div class="right-actions">
			<a href="#"><img src="img/icon-twitter.png"></a>
			<a href="#"><img src="img/icon-facebook.png"></a>
			<a href="#" id="pauseGame"><img src="img/icon-pause.png"></a>

			<img src="img/icon-sound.png">
		</div>
	</section>


	<canvas id="extras"></canvas>
	<canvas id="extrasStatic"></canvas>
	<canvas id="player"></canvas>
	<canvas id="background"></canvas>

<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

<script type="text/javascript">

	/* devices adaptations
	---------------------------------------------------------------*/
	var userAgent = window.navigator.userAgent,
		canvasWidth,
    	canvasHeight,
    	deviceDiferenceImage = 0,
    	deviceDiferenceCaveImage = 0;

	if (userAgent.indexOf('iPad') > -1) {

		$('#extras').css('top', 90);
		$('#player').css('top', 90);
		$('#background').css('top', 90);

		$('#playerOptions').css('width', 800).css('top', 80);
		$('#panelGame').css('width', 800).css('top', 500);
		$('#controls').css('display', 'block').css('bottom', 200).css('width', 800);

		// $('.walk-controls').css('margin-left', 20);
		// $('.jump-attack-controls').css('right', 30);

		$('#adarhaLife').css('width', 270).css('margin-left', 30);
		$('#adarhaPotion').css('margin-right', 10);
		$('#adarhaHeartsDragon').css('margin-right', 10);

		canvasWidth = 800;
		canvasHeight = 410;

		deviceDiferenceImage = 200;

	} else if (userAgent.indexOf('Android') > -1) {

		canvasWidth = window.innerWidth;
    	canvasHeight = window.innerHeight; //window.screen.height; //

    	deviceDiferenceImage = 200;
    	deviceDiferenceCaveImage = 400;


		//$('#panelStartMobile').toggleClass('display-none');

		// $('#starGameMobile').on('click', function () {
		// 	//fullScreen(element);
		// 	$('#panelStartMobile').toggleClass('display-none');
		// });

		// Start panel
		$('#panelStarGrame').css('background-size', canvasWidth, canvasHeight);

		$('#extras').css('top', 0);
		$('#player').css('top', 0);
		$('#background').css('top', 0);
		$('#panelGame').css('display', 'none');
		$('#playerOptions').css('width', window.innerWidth);
		$('#controls').css('width', window.innerWidth -20).css('display', 'block').css('padding-left', 15).css('padding-right', 5).css('padding-bottom', 0);
		$('.jump-attack-controls').css('right', 10).css('float', 'none');

		$('#adarhaLife').css('background-size', '180px', '100px').css('margin-top', 10);
		$('#adarhaPotion').css('background-size', '110px', '100px').css('top', 8).css('width', 115);
		$('#adarhaHeartsDragon').css('background-size', '75px', '90px').css('top', 50).css('width', 84);


	} else if (userAgent.indexOf('iPhone') > -1) {

		$('#panelStartMobile').toggleClass('display-none');

		$('#starGameMobile').on('click', function () {
			fullScreen(element);
			$('#panelStartMobile').toggleClass('display-none');
		});

		$('#extras').css('top', 0);
		$('#player').css('top', 0);
		$('#background').css('top', 0);
		$('#panelGame').css('display', 'none');
		$('#playerOptions').css('width', window.innerWidth);

		$('#controls').css('width', window.innerWidth).css('display', 'block').css('padding-left', 15).css('padding-right', 5).css('padding-bottom', 0);
		$('.down-arrow').css('background-size', 40);
		$('.right-arrow').css('background-size', 40);
		$('.left-arrow').css('background-size', 40);
		$('.top-arrow').css('background-size', 40);

		$('.jump-attack-controls').css('float', 'none');
		$('.attack-key').css('background-size', 40);


		$('#adarhaLife').css('background-size', '130px', '100px').css('margin-top', 10);
		$('#adarhaPotion').css('background-size', '80px', '100px').css('top', 8).css('width', 85);
		$('#adarhaHeartsDragon').css('background-size', '50px', '90px').css('top', 35).css('width', 56);

		canvasWidth = window.innerWidth;
    	//canvasHeight = win.screen.height;
    	canvasHeight = 320;//win.innerHeight + 100;

    	deviceDiferenceImage = 200;

	} else {
		// Desktop
		canvasWidth = 950;
		canvasHeight = 755;

		deviceDiferenceImage = 0;
		deviceDiferenceCaveImage = 100;
	}


    /* canvas dimentions and declarations
	---------------------------------------------------------------*/
    var canvasBackground = document.getElementById('background'),
    	contextBackground = canvasBackground.getContext('2d'),

    	canvasPlayer = document.getElementById('player'),
    	contextPlayer = canvasPlayer.getContext('2d'),

    	canvasExtras = document.getElementById('extras'),
    	contextExtras = canvasExtras.getContext('2d');

    	canvasExtrasStatic = document.getElementById('extrasStatic'),
    	contextExtrasStatic = canvasExtrasStatic.getContext('2d');

    	canvasBackground.width = canvasWidth;
		canvasBackground.height = canvasHeight;

		canvasPlayer.width = canvasWidth;
		canvasPlayer.height = canvasHeight;

		canvasExtras.width = canvasWidth;
		canvasExtras.height = canvasHeight;

		canvasExtrasStatic.width = canvasWidth;
		canvasExtrasStatic.height = canvasHeight;


    /* Panels
	---------------------------------------------------------------*/
	var buttonLoginFacebook = $('#buttonLoginFacebook'),
		buttonStartGame = $('#buttonStartGame'),
		buttonPlayGame = $('#buttonPlayGame'),
		panelStarGrame = $('#panelStarGrame'),
		buttonInstructions = $('#buttonInstructions'),
		buttonReanudar = $('#buttonReanudar'),
		buttonResumen = $('#buttonResumen'),
		buttonBack = $('#buttonBack'),
		panelChoosePlayer = $('#panelChoosePlayer'),
		panelReadInstructions = $('#panelReadInstructions'),
		panelReadInstructionsPause = $('#panelReadInstructionsPause'),
		panelPause = $('#panelPause'),
		playerOptions = $('#playerOptions'),
		playerSelected = 'adhara',
		script;


	buttonStartGame.click( function () {
		choosePlayer();
	});


	// Choose player function
	function choosePlayer () {
		panelStarGrame.addClass('display-none');
		panelChoosePlayer.toggleClass('display-none');
	}


	// Set the player selected
	$('#adhara').click( function () {
		playerSelected = 'adhara';
		readInstructions();
	});

	$('#aidem').click( function () {
		playerSelected = 'aidem';
		readInstructions();
	});


	// Read instructions
	function readInstructions () {
		panelChoosePlayer.toggleClass('display-none');
		panelReadInstructions.toggleClass('display-none');
	}

	buttonPlayGame.click( function () {
		startGame();
		panelReadInstructions.toggleClass('display-none');
	});


	// Reanudar game
	buttonReanudar.click( function () {
		panelPause.toggleClass('display-none');
	});

	buttonInstructions.click( function () {
		panelPause.toggleClass('display-none');
		panelReadInstructionsPause.toggleClass('display-none');
	});

	buttonBack.click( function () {
		panelPause.toggleClass('display-none');
		panelReadInstructionsPause.toggleClass('display-none');
	});


	// Start game function
	function startGame () {
		playerOptions.toggleClass('display-none');

		script = document.createElement("script");
		script.type = "text/javascript";
		script.src = "js/game.js";
		document.getElementsByTagName('head')[0].appendChild(script);
	}


</script>
</body>
</html>