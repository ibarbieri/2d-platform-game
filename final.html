<!DOCTYPE html>
<!--[if lt IE 7]><html lang="en" class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7 ie6"></html><script type="text/javascript" src="https://a248.e.akamai.net/secure.mlstatic.com/org-img/ch/tools/html5shiv/html5shiv.js"></script>
<![endif]--><!--[if IE 7]><html lang="en" class="no-js lt-ie10 lt-ie9 lt-ie8 ie7"></html><script type="text/javascript" src="https://a248.e.akamai.net/secure.mlstatic.com/org-img/ch/tools/html5shiv/html5shiv.js"></script>
<![endif]--><!--[if IE 8]><html lang="en" class="no-js lt-ie10 lt-ie9 ie8"></html><script type="text/javascript" src="https://a248.e.akamai.net/secure.mlstatic.com/org-img/ch/tools/html5shiv/html5shiv.js"></script>
<![endif]--><!--[if IE 9]><html lang="en" class="no-js lt-ie10 ie9"></html><script type="text/javascript" src="https://a248.e.akamai.net/secure.mlstatic.com/org-img/ch/tools/html5shiv/html5shiv.js"></script>
<![endif]--><!--[if gt IE 9] <!-->
<head>
	<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1"/>

	<meta name="apple-mobile-web-app-capable" content="yes" />

	<meta charset="utf-8"/>
	<title>Game</title>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
</head>

<body>
	<div id="content">
		<section id="panelStartGame">
			<div class="content">
				<a href="#" id="buttonLoginFacebook">
					<img src="img/login-with-facebook.png">
				</a>

				<form action="" method="POST">
					<label>E-mail</label>
					<input type="email" value="" id="emailLogin" name="emailLogin">

					<a href="#" id="buttonStartGame" class="visibility-hidden">
						<img src="img/button-play.png">
					</a>

					<a href="#" id="startGameMobile" class="display-none visibility-hidden">
						<img src="img/button-play.png">
					</a>
				</form>
			</div>
		</section>


		<section id="panelChoosePlayer" class="display-none">
			<div class="content">
				<div id="adhara"></div>
				<div id="aidem"></div>
			</div>
		</section>

		<section id="panelReadInstructions" class="display-none">
			<div class="content">
				<a href="#" id="buttonPlayGame"><img src="img/button-play.png"></a>
			</div>
		</section>

		<section id="panelReadInstructionsPause" class="display-none">
			<div class="content">
				<a href="#" id="buttonBack"><img src="img/btn-back.png"></a>
			</div>
		</section>

		<section id="panelPause" class="display-none">
			<div class="content">
				<a href="#" id="buttonInstructions"><img src="img/btn-read-instructions.png"></a>
				<a href="#" id="buttonReanudar"><img src="img/btn-continue.png"></a>
				<a href="#" id="buttonResumen"><img src="img/btn-resumen.png"></a>
			</div>
		</section>


		<section id="panelWin" class="display-none">
			<div class="content">
				<h2>Completaste el juego</h2>
				<p class="score">Puntaje <span id="getScoreWin">11231</span></p>

				<a href="#" id="buttonLoginFacebook">
					<img src="img/button-shared-facebook.png">
				</a>
				<p>Superá tu puntaje y aparecé en el ranking de los mejores jugadores </p>
				<a href="#" id="playAgainWin"><img src="img/btn-play-again.png"></a>
			</div>
		</section>


		<section id="panelGameOver" class="display-none">
			<div class="content">
				<p class="score">Puntaje <span id="getScoreLoose">11231</span></p>

				<a href="#" id="buttonLoginFacebook">
					<img src="img/button-shared-facebook.png">
				</a>

				<p class="play-again-p">¡Lo sentimos!<br>
					Vuelve a intentarlo y supera tu marca
				</p>
				<a href="#" id="playAgainLoose"><img src="img/btn-play-again.png"></a>

			</div>
		</section>

		<section id="playerOptions" class="display-none">
			<div id="adarhaLife" class="display-none"></div>
			<div id="aidenLife" class="display-none"></div>
			<div id="adarhaPotion"></div>
			<div id="adarhaHeartsDragon"> 0 </div>
			<div id="adarhaScore"></div>
		</section>

		<div id="controls">
			<div class="walk-controls">
				<input type="button" value="" class="left-arrow">
				<input type="button" value="" class="down-arrow">
				<input type="button" value="" class="right-arrow">
			</div>
			<div class="jump-attack-controls">
				<input type="button" value="" class="top-arrow">
				<input type="button" value="" class="attack-key">
			</div>
		</div>

		<section id="panelGame">
			<div class="left-actions">
				<a href="www.lesath.com.ar">Creditos</a> |
				<a href="www.lesath.com.ar">Compartir</a>
			</div>

			<div class="brand-lesath">
				<img src="img/brand-lesath.png">
			</div>

			<div class="right-actions">
				<a href="#"><img src="img/icon-twitter.png"></a>
				<a href="#"><img src="img/icon-facebook.png"></a>
				<a href="#" id="pauseGame"><img src="img/icon-pause.png"></a>
				<a href="#" id="mute"><img src="img/icon-sound.png"></a>
				<a href="#" id="noMute" class="display-none"><img src="img/icon-sound-mute.png"></a>
			</div>
		</section>

		<canvas id="extras"></canvas>
		<canvas id="extrasStatic"></canvas>
		<canvas id="player"></canvas>
		<canvas id="background"></canvas>

	</div>

<script type="text/javascript" src="js/jquery.js"></script>
<!-- <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script> -->

<script type="text/javascript">

	var buttonLoginFacebook = $('#buttonLoginFacebook'),
		buttonStartGame = $('#buttonStartGame'),
		startGameMobile = $('#startGameMobile'),
		buttonPlayGame = $('#buttonPlayGame'),
		panelStartGame = $('#panelStartGame'),
		buttonInstructions = $('#buttonInstructions'),
		buttonReanudar = $('#buttonReanudar'),
		buttonResumen = $('#buttonResumen'),
		buttonBack = $('#buttonBack'),
		panelChoosePlayer = $('#panelChoosePlayer'),
		panelReadInstructions = $('#panelReadInstructions'),
		panelReadInstructionsPause = $('#panelReadInstructionsPause'),
		panelPause = $('#panelPause'),
		playerOptions = $('#playerOptions'),
		playerSelected = 'adhara',
		script,
		widthOfSpriteEnergy,
		widthOfSpritePotion,
		stopEnemiesAndObstacles = false;


    /* full screen function
	---------------------------------------------------------------*/
    var element = document.documentElement;

    function fullScreen (element) {
		if (element.requestFullscreen) {
			element.requestFullscreen();

		} else if (element.msRequestFullscreen) {
			element.msRequestFullscreen();

		} else if (element.mozRequestFullScreen) {
			element.mozRequestFullScreen();

		} else if (element.webkitRequestFullscreen) {
			element.webkitRequestFullscreen();
		}
	}


	/* devices adaptations
	---------------------------------------------------------------*/
	var userAgent = window.navigator.userAgent,
		canvasWidth,
    	canvasHeight,
    	deviceDiferenceImage = 0,
    	deviceDiferenceCaveImage = 0;

	if (userAgent.indexOf('iPad') > -1) {

		// Canvas dimentions
		canvasWidth = 800;
		canvasHeight = 410;


		// Canvas positions
		$('#extras').css('top', 90);
		$('#player').css('top', 90);
		$('#background').css('top', 90);


		// Set images diferences
		deviceDiferenceImage = 200;
		widthOfSpriteEnergy = 275;
		widthOfSpritePotion = 180;


		// Show / hide elements
		buttonStartGame.toggleClass('visibility-hidden');


		// Start panel
		panelStartGame.css('width', canvasWidth).css('height', canvasHeight).css('background-size', canvasWidth, canvasHeight).css('margin-top', 90);
		$('#panelStartGame .content').css('margin-top', 160);


		// Choose player panels
		panelChoosePlayer.css('width', canvasWidth).css('height', canvasHeight).css('background-size', canvasWidth, canvasHeight).css('margin-top', 90);;
		$('#panelChoosePlayer .content').css('margin-top', 190);
		$('#panelChoosePlayer .content img').css('width', 160);


		// Read instructions panel
		panelReadInstructions.css('width', canvasWidth).css('height', canvasHeight).css('background-size', canvasWidth, canvasHeight).css('margin-top', 90);
		$('#panelReadInstructions .content').css('margin-top', 320);


		// Game panels and player options
		$('#playerOptions').css('width', canvasWidth).css('top', 80);
		$('#panelGame').css('width', canvasWidth).css('top', 500);
		$('#controls').css('display', 'block').css('bottom', 180).css('width', canvasWidth);

		$('.walk-controls').css('margin-left', 20);
		$('.jump-attack-controls').css('right', 30);

		$('#adarhaLife').css('width', 270).css('margin-left', 10);
		$('#adarhaPotion').css('margin-right', -10);
		$('#adarhaHeartsDragon').css('margin-right', -10);



	} else if (userAgent.indexOf('Android') > -1) {
		// Canvas dimentions
		canvasWidth = window.innerWidth;
    	canvasHeight = 370;//screen.height;

    	// Canvas positions
    	$('#extras').css('top', 0);
		$('#player').css('top', 0);
		$('#background').css('top', 0);

    	// Set diferences images devices
    	deviceDiferenceImage = 200;
    	deviceDiferenceCaveImage = 400;

    	// Hide / show elements
    	startGameMobile.toggleClass('display-none').toggleClass('visibility-hidden');
    	$('#panelGame').css('display', 'none');

    	// Full screen and choose player
		window.document.body.scrollTop = 100;

		$('#startGameMobile').on('click', function () {

			window.document.body.scrollTop = 0;

			// Show choose player panel
			choosePlayer();
			//fullScreen(element);
		});

		// Start panel
		panelStartGame.css('width', canvasWidth).css('height', canvasHeight);
		panelStartGame.css('background-size', canvasWidth, canvasHeight);
		$('#panelStartGame .content').css('margin-top', 130);
		$('#panelStartGame #startGameMobile').css('margin-top', -60);
		$('#emailLogin').css('width', 200);

		// Choose player panel
		panelChoosePlayer.css('width', canvasWidth).css('height', canvasHeight);
		panelChoosePlayer.css('background-size', canvasWidth, canvasHeight);
		$('#panelChoosePlayer .content').css('margin-top', 160).css('width', 340);
		$('#panelChoosePlayer .content div').css('background-size', 300).css('width', 150).css('margin-right', 10).css('margin-left', 10).css('background-position-x', -150);


		// Read instructions panel
		panelReadInstructions.css('width', canvasWidth).css('height', canvasHeight);
		panelReadInstructions.css('background-size', canvasWidth, canvasHeight);
		$('#panelReadInstructions .content').css('margin-top', 260);

		// Game panels and player options
		$('#playerOptions').css('width', canvasWidth);
		$('#controls').css('width', canvasWidth -20).css('display', 'block').css('padding-left', 15).css('padding-right', 5).css('padding-bottom', 0);
		$('.jump-attack-controls').css('right', 10).css('float', 'none');

		$('#adarhaLife').css('background-size', 1440, 30).css('margin-top', 5).css('width', 160);
		$('#adarhaPotion').css('background-size', 500, 50).css('top', 5).css('width', 115);
		$('#adarhaHeartsDragon').css('background-size', 110, 50).css('top', 50).css('width', 28).css('padding-top', 17).css('padding-left', 35);

		widthOfSpriteEnergy = 160;
		widthOfSpritePotion = 125;


	} else if (userAgent.indexOf('iPhone') > -1) {

		// Canvas dimentionss
		canvasWidth = window.innerWidth;
    	canvasHeight = 320; //320;


    	// Canvas position
		$('#extras').css('top', 0);
		$('#player').css('top', 0);
		$('#background').css('top', 0);


		// Set diferences images devices
    	deviceDiferenceImage = 200;
    	widthOfSpriteEnergy = 160;
		widthOfSpritePotion = 125;


		// Hide / show elements
    	startGameMobile.toggleClass('display-none').toggleClass('visibility-hidden');
    	$('#panelGame').css('display', 'none');


    	// Full screen and choose player
		$('#startGameMobile').on('click', function () {
			// Show choose player panel
			fullScreen(element);
			choosePlayer();
		});


		// Start panel
		panelStartGame.css('width', canvasWidth).css('height', canvasHeight);
		panelStartGame.css('background-size', canvasWidth, canvasHeight);
		$('#panelStartGame .content').css('margin-top', 100);
		$('#panelStartGame #startGameMobile').css('margin-top', -60);
		$('#buttonLoginFacebook img').css('width', 160);
		$('#emailLogin').css('width', 100);
		$('#panelStartGame form').css('margin-top', 20);


		// Choose player panel
		panelChoosePlayer.css('width', canvasWidth).css('height', canvasHeight);
		panelChoosePlayer.css('background-size', canvasWidth, canvasHeight);
		$('#panelChoosePlayer .content').css('margin-top', 110).css('width', 340);
		$('#panelChoosePlayer .content div').css('background-size', 300).css('width', 150).css('margin-right', 10).css('margin-left', 10).css('background-position-x', -150);


		// Read instructions panel
		panelReadInstructions.css('width', canvasWidth).css('height', canvasHeight);
		panelReadInstructions.css('background-size', canvasWidth, canvasHeight);
		$('#panelReadInstructions .content').css('margin-top', 200);


		// Game panels and player options
		$('#playerOptions').css('width', canvasWidth);

		$('#controls').css('width', canvasWidth).css('display', 'block').css('bottom', -70);
		//$('.jump-attack-controls').css('right', 10).css('float', 'none');
		$('.left-arrow').css('background-size', 35);
		$('.down-arrow').css('background-size', 35);
		$('.right-arrow').css('background-size', 35);
		$('.top-arrow').css('background-size', 35);
		$('.attack-key').css('background-size', 35);

		$('#adarhaLife').css('background-size', 1440, 30).css('margin-top', 5).css('width', 160);
		$('#adarhaPotion').css('background-size', 500, 50).css('top', 5).css('width', 115);
		$('#adarhaHeartsDragon').css('background-size', 110, 50).css('top', 50).css('width', 28).css('padding-top', 17).css('padding-left', 35);


	} else {

		// Desktop
		canvasWidth = 950;
		canvasHeight = 755;


		// Diferences in devices
		deviceDiferenceImage = 0;
		deviceDiferenceCaveImage = 100;
		widthOfSpriteEnergy = 275;
		widthOfSpritePotion = 180;


		// Show / hide elements
		buttonStartGame.toggleClass('visibility-hidden');
	}


    /* canvas dimentions and declarations
	---------------------------------------------------------------*/
    var canvasBackground = document.getElementById('background'),
    	contextBackground = canvasBackground.getContext('2d'),

    	canvasPlayer = document.getElementById('player'),
    	contextPlayer = canvasPlayer.getContext('2d'),

    	canvasExtras = document.getElementById('extras'),
    	contextExtras = canvasExtras.getContext('2d');

    	canvasExtrasStatic = document.getElementById('extrasStatic'),
    	contextExtrasStatic = canvasExtrasStatic.getContext('2d');

    	canvasBackground.width = canvasWidth;
		canvasBackground.height = canvasHeight;

		canvasPlayer.width = canvasWidth;
		canvasPlayer.height = canvasHeight;

		canvasExtras.width = canvasWidth;
		canvasExtras.height = canvasHeight;

		canvasExtrasStatic.width = canvasWidth;
		canvasExtrasStatic.height = canvasHeight;


    /* Panels
	---------------------------------------------------------------*/
	buttonStartGame.click( function () {
		choosePlayer();
	});


	// Choose player function
	function choosePlayer () {
		panelStartGame.addClass('display-none');
		panelChoosePlayer.toggleClass('display-none');
	}


	// Set the player selected
	$('#adhara').click( function () {
		playerSelected = 'adhara';
		readInstructions();
	});

	$('#aidem').click( function () {
		playerSelected = 'aidem';
		readInstructions();
	});


	// Read instructions
	function readInstructions () {
		panelChoosePlayer.toggleClass('display-none');
		panelReadInstructions.toggleClass('display-none');
	}

	buttonPlayGame.click( function () {
		startGame();
		panelReadInstructions.toggleClass('display-none');
	});


	// Start game function
	function startGame () {
		playerOptions.toggleClass('display-none');

		script = document.createElement("script");
		script.type = "text/javascript";
		script.src = "js/game.js";
		document.getElementsByTagName('head')[0].appendChild(script);
	}


</script>
</body>
</html>